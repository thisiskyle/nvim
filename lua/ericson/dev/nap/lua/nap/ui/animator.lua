---@class Animation
---@field speed number
---@field frames string[]


local M = {}

M.animations = {
    pong = {
        speed = 100,
        frames = {
            "▐⠂       ▌",
            "▐⠈       ▌",
            "▐ ⠂      ▌",
            "▐ ⠠      ▌",
            "▐  ⡀     ▌",
            "▐  ⠠     ▌",
            "▐   ⠂    ▌",
            "▐   ⠈    ▌",
            "▐    ⠂   ▌",
            "▐    ⠠   ▌",
            "▐     ⡀  ▌",
            "▐     ⠠  ▌",
            "▐      ⠂ ▌",
            "▐      ⠈ ▌",
            "▐       ⠂▌",
            "▐       ⠠▌",
            "▐       ⡀▌",
            "▐      ⠠ ▌",
            "▐      ⠂ ▌",
            "▐     ⠈  ▌",
            "▐     ⠂  ▌",
            "▐    ⠠   ▌",
            "▐    ⡀   ▌",
            "▐   ⠠    ▌",
            "▐   ⠂    ▌",
            "▐  ⠈     ▌",
            "▐  ⠂     ▌",
            "▐ ⠠      ▌",
            "▐ ⡀      ▌",
            "▐⠠       ▌"
        }
    },

    spinner = {
        speed = 80,
        frames = {
            "⠋",
            "⠙",
            "⠹",
            "⠸",
            "⠼",
            "⠴",
            "⠦",
            "⠧",
            "⠇",
            "⠏"
        }
    },

    sleep = {
        speed = 1000,
        frames = {
            ".      .",
            ".  z   .",
            ".  zZ  .",
            ".  z   .",
        }
    },
    catch = {
        speed = 150,
        frames = {
            "==(o      )=",
            "=(  o     )=",
            "=(   o    )=",
            "=(    o   )=",
            "=(     o  )=",
            "=(      o )=",
            "=(       o)=",
            "=(        o)",
            "=(      o)==",
            "=(     o  )=",
            "=(    o   )=",
            "=(   o    )=",
            "=(  o     )=",
            "=( o      )=",
            "=(o       )=",
            "(o        )=",
        }
    },
    worm = {
        speed = 400,
        frames = {
            "▐-    ▌",
            "▐^    ▌",
            "▐ -   ▌",
            "▐ ^   ▌",
            "▐  -  ▌",
            "▐  ^  ▌",
            "▐   - ▌",
            "▐   ^ ▌",
            "▐    -▌",
            "▐    ^▌",
            "▐   - ▌",
            "▐   ^ ▌",
            "▐  -  ▌",
            "▐  ^  ▌",
            "▐ -   ▌",
            "▐ ^   ▌",
        }
    },
    rope = {
        speed = 100,
        frames = {
            "-_______",
            "--______",
            "---_____",
            "----____",
            "-----___",
            "------__",
            "-------_",
            "_-------",
            "__------",
            "___-----",
            "____----",
            "_____---",
            "______--",
            "_______-",
            "________",
        }
    },
}

function M.get_frame(animation)
    return animation.frames[math.floor(vim.uv.hrtime() / (1e6 * animation.speed)) % #animation.frames + 1]
end

return M
